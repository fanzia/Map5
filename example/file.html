<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="../css/bootstrap-3.2.0-dist/css/bootstrap.min.css">
<script type="text/javascript" src="../lib/jquery-1.11.1.js"></script>
<script type="text/javascript" src="bootstrap.min.js"></script>
<script type="text/javascript" src="../lib/GeoBeans.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/BaseTypes/Class.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/BaseTypes/Envelope.js"></script>

<script type="text/javascript" src="../lib/GeoBeans/Renderer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Events.js"></script>

<script type="text/javascript" src="../lib/GeoBeans/Geometry.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Geometry/GeometryCollection.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Geometry/Point.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Geometry/LineString.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Geometry/LinearRing.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Geometry/Polygon.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Geometry/MultiPoint.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Geometry/MultiLineString.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Geometry/MultiPolygon.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Geometry/GML.js"></script>


<script type="text/javascript" src="../lib/GeoBeans/Transformation.js"></script>

<script type="text/javascript" src="../lib/GeoBeans/Control.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Control/TrackControl.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Control/DragMapControl.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Control/SrollMapControl.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Control/MapNavControl.js"></script>


<script type="text/javascript" src="../lib/GeoBeans/Field.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Feature.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/FeatureType.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Workspace.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/WFS/WFSWorkspace.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/WMS/WMSWorkspace.js"></script>

<script type="text/javascript" src="../lib/GeoBeans/Style/StyleManager.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Style/Style.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Style/ColorMap.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Style/StyleReader.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Style/StyleWriter.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Style/Rule.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Style/FeatureStyle.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Style/Symbolizer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Style/PointSymbolizer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Style/LineSymbolizer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Style/PolygonSymbolizer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Style/TextSymbolizer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Style/Font.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Style/Stroke.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Style/Fill.js"></script>


<script type="text/javascript" src="../lib/GeoBeans/Filter.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Filter/FilterReader.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Filter/FilterWriter.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Filter/LogicFilter.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Filter/BinaryLogicFilter.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Filter/ComparisionFilter.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Filter/BinaryComparisionFilter.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Filter/IDFilter.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Filter/UnaryLogicFilter.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Filter/SpatialFilter.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Filter/BBoxFilter.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Filter/Expression.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Filter/PropertyName.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Filter/Literal.js"></script>

<script type="text/javascript" src="../lib/GeoBeans/DBS/DBSManager.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/DBS/DataSource.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/DBS/DataSet.js"></script>

<script type="text/javascript" src="../lib/GeoBeans/MapManager.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Map.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/User.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/MapWorkspace.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Layer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Layer/FeatureLayer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Layer/Tile.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Layer/TileCache.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Layer/TileLayer.js"></script>

<script type="text/javascript" src="../lib/GeoBeans/Layer/MapLayer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Layer/WMSLayer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Layer/WFSLayer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Layer/OverlayLayer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Layer/DBLayer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Layer/GroupLayer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Layer/OverlayLayer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Layer/QueryLayer.js"></script>

<script type="text/javascript" src="../lib/GeoBeans/Layer/WMTSLayer.js"></script>

<script type="text/javascript" src="../lib/GeoBeans/File/FileManager.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/File/File.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/File/Folder.js"></script>

<style type="text/css">
#mapDiv{
	border: 1px solid #ccc;
}
</style>
<script type="text/javascript">

var url = "/ows/user1/mgr";
var fileManager = null;
var user = null;
var mapObj = null;
function init(){
	fileManager = new GeoBeans.FileManager(url);
}

function getList(){
	var path = $("#path").val();
	fileManager.getList(path,getList_callback);
}

function getList_callback(list){
	var html = "<table border='1'>";
	html += "<tr>";
	html += "<td>Name</td>";
	html += "<td>type</td>";
	html += "<td>accessTime</td>";
	html += "<td>lastTime</td>";
	html += "<td>size</td>";
	html += "</tr>";
	for(var i = 0; i < list.length; ++i){
		var l = list[i];
		if(l == null){
			continue;
		}
		if(l instanceof GeoBeans.File){
			html += "<tr>"
			+ "<td>" + l.name + "</td>"
			+ "<td>File</td>"
			+ "<td>" + l.accessTime + "</td>"
			+ "<td>" + l.lastTime + "</td>"
			+ "<td>" + l.size + "</td>"
			+ "</tr>";
		}else if(l instanceof GeoBeans.Folder){
			html += "<tr>"
			+ "<td>" + l.name + "</td>"
			+ "<td>Folder</td>"
			+ "<td>" + l.accessTime + "</td>"
			+ "<td>" + l.lastTime + "</td>"
			+ "<td>" + "" + "</td>"
			+ "</tr>";
		}

	}

	$("#getList_div").html(html);
}

function createFolder(){
	var path = $("#createFolderPath").val();
	fileManager.createFolder(path,createFolder_callback);
}

function createFolder_callback(result){
	$("#createFolder_div").html(result);
}

function removeFolder(){
	var path = $("#removeFolderPath").val();
	fileManager.removeFolder(path,removeFolder_callback);	
}

function removeFolder_callback(result){
	$("#removeFolder_div").html(result);
}

function removeFile(){
	var path = $("#removeFilePath").val();
	fileManager.removeFile(path,removeFile_callback);
}

function removeFile_callback(result){
	$("#removeFile_div").html(result);
}

</script>
<body onload="init()">

<div class="container">
	<div class="page-header">
		<h3>setPath</h3>
	</div>
	<div class="row">
		<div class="col-md-2">
			<input type="text" value="/" id="path" class="form-control">
		</div>
	</div>
	<div class="row">
		<button class="btn btn-default" onclick="getList()">getList</button>
		<div id="getList_div"></div>
		
	</div>

	<div class="row">
		<div class="col-md-2">
			<input type="text" value="/ac" id="createFolderPath" class="form-control">
		</div>
		<div class="col-md-2">
			<button class="btn btn-default" onclick="createFolder()">createFolder</button>
		</div>
		<div id="createFolder_div" class="col-md-6"></div>
	</div>

	<div class="row">
		<div class="col-md-2">
			<input type="text" value="/ac" id="removeFolderPath" class="form-control">
		</div>
		<div class="col-md-2">
			<button class="btn btn-default" onclick="removeFolder()">removeFolder</button>
		</div>
		<div id="removeFolder_div" class="col-md-6"></div>
	</div>


	<div class="row">
		<div class="col-md-2">
			<input type="text" value="/ac.txt" id="removeFilePath" class="form-control">
		</div>
		<div class="col-md-2">
			<button class="btn btn-default" onclick="removeFile()">removeFile</button>
		</div>
		<div id="removeFile_div" class="col-md-6"></div>
	</div>
</div>




</body>
