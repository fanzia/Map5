<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>WFS GetFeature Post</title>
  <script type="text/javascript" src="../lib/jquery-1.11.1.js"></script>
  <script type="text/javascript">
    function onClick(){
/*    	var xml = "<wfs:GetFeature service=\"WFS\" version=\"1.1.0\" "
         + "xmlns:world=\"www.world.ac.cn\" "
         +  "xmlns:wfs=\"http://www.opengis.net/wfs\" "
         +  "xmlns:gml=\"http://www.opengis.net/gml\" "
         +  "xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" "
         +  "xsi:schemaLocation=\"http://www.opengis.net/wfs "
         +  " http://schemas.opengis.net/wfs/1.1.0/wfs.xsd\">"
         +  "<wfs:Query typeName=\"world:cities\">"
         +  "	<PropertyName>gid</PropertyName>"
         +  "	<PropertyName>name</PropertyName>"
         +  "	<PropertyName>geom</PropertyName>"
         +  "</wfs:Query>"
         +"</wfs:GetFeature>";
*/
// var xml = "<wfs:GetFeature service=\"WFS\" version=\"1.1.0\" sourceName=\"db1\" "
// var xml = "<wfs:GetFeature service=\"WFS\" version=\"1.1.0\" mapName=\"world\" "
//          + "xmlns:world=\"www.world.ac.cn\" "
//          +  "xmlns:wfs=\"http://www.opengis.net/wfs\" "
//          +  "xmlns:gml=\"http://www.opengis.net/gml\" "
//          +  "xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" "
//          +  "xsi:schemaLocation=\"http://www.opengis.net/wfs "
//          +  "http://schemas.opengis.net/wfs/1.1.0/wfs.xsd\">"
//          // +  "<wfs:Query typeName=\"world:country\">"
//          +  "<wfs:Query typeName=\"country\">"
//          +    "<Filter>"
// 		 +		"<Within>"
// 		 +			"<PropertyName>shape</PropertyName>"
// 		 +				"<gml:Point name=\"1\" srsName=\"EPSG:63266405\">"
// 		 +					"<gml:coordinates xmlns:gml=\"http://www.opengis.net/gml\" decimal=\".\" cs=\",\" ts=\" \">35.19886363636364,-18.10227272727273</gml:coordinates>"
// 		 +				"</gml:Point>"
// 		 +			"</Within>"
//          +      "</Filter>"
//          +  "</wfs:Query>"
//          +"</wfs:GetFeature>";

     //  var xml = "<wfs:GetFeature service=\"WFS\" version=\"1.1.0\" mapName=\"world\" "
     //     + "xmlns:map2=\"www.map2.ac.cn\" "
     //     +  "xmlns:wfs=\"http://www.opengis.net/wfs\" "
     //     +  "xmlns:gml=\"http://www.opengis.net/gml\" "
     //     +  "xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" "
     //     +  "xsi:schemaLocation=\"http://www.opengis.net/wfs "
     //     +  "http://schemas.opengis.net/wfs/1.1.0/wfs.xsd\">"
     //     +  "<wfs:Query typeName=\"world:country\">"
     //     +    "<Filter>"
     // +    "<Intersects>"
     // +      "<PropertyName>shape</PropertyName>"
     // +      "<gml:Polygon>"
     // +      " <gml:outerBoundaryIs>"
     // +      "   <gml:LinearRing>"
     // +      "     <gml:coordinates ts=\" \" cs=\",\" decimal=\".\">"
     // +      "       0,0 0,80 80,80 80,0 0,0"
     // +      "     </gml:coordinates>"
     // +      "   </gml:LinearRing>"
     // +      " </gml:outerBoundaryIs>"
     // +      "</gml:Polygon>"
     // +    "</Intersects>"
     //     +    "</Filter>"
     //     +  "</wfs:Query>"
     //     +"</wfs:GetFeature>";
     //  var xml = "<wfs:GetFeature service=\"WFS\" version=\"1.1.0\" mapName=\"world\" "
     //     + "xmlns:map2=\"www.map2.ac.cn\" "
     //     +  "xmlns:wfs=\"http://www.opengis.net/wfs\" "
     //     +  "xmlns:gml=\"http://www.opengis.net/gml\" "
     //     +  "xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" "
     //     +  "xsi:schemaLocation=\"http://www.opengis.net/wfs "
     //     +  "http://schemas.opengis.net/wfs/1.1.0/wfs.xsd\">"
     //     +  "<wfs:Query typeName=\"world:country\">"
     //     +    "<Filter>"
     // +    "<Intersects>"
     // +      "<PropertyName>shape</PropertyName>"
     // +      "<gml:Polygon>"
     // +      " <gml:outerBoundaryIs>"
     // +      "   <gml:LinearRing>"
     // +      "     <gml:coordinates ts=\" \" cs=\",\" decimal=\".\">"
     // +      "       0,0 0,80 80,80 80,0 0,0"
     // +      "     </gml:coordinates>"
     // +      "   </gml:LinearRing>"
     // +      " </gml:outerBoundaryIs>"
     // +      "</gml:Polygon>"
     // +    "</Intersects>"
     //     +    "</Filter>"
     //     +  "</wfs:Query>"
     //     +"</wfs:GetFeature>";     

    // var xml = "<wfs:GetFeature service=\"WFS\" version=\"1.1.0\" mapName=\"map2\" "
    //      + "xmlns:map2=\"www.map2.ac.cn\" "
    //      +  "xmlns:wfs=\"http://www.opengis.net/wfs\" "
    //      +  "xmlns:gml=\"http://www.opengis.net/gml\" "
    //      +  "xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" "
    //      +  "xsi:schemaLocation=\"http://www.opengis.net/wfs "
    //      +  "http://schemas.opengis.net/wfs/1.1.0/wfs.xsd\">"
    //      +  "<wfs:Query typeName=\"map2:country\">"
    //      +    "<Filter>"
    //  +    "<Intersects>"
    //  +      "<PropertyName>shape</PropertyName>"
    //  +      "<gml:LineString xmlns:gml=\"http://www.opengis.net/gml\">"
    //  +        "<gml:coordinates xmlns:gml=\"http://www.opengis.net/gml\" decimal=\".\" cs=\",\" ts=\" \">-180,0 180,0</gml:coordinates>"
    //  +      "</gml:LineString>"
    //  +    "</Intersects>"
    //      +    "</Filter>"
    //      +  "</wfs:Query>"
    //      +"</wfs:GetFeature>";


    // var xml ='<?xml version="1.0" encoding="UTF-8"?><wfs:GetFeature xmlns:wfs="http://www.opengis.net/wfs" xmlns:ogc="http://www.opengis.net/ogc" xmlns:gml="http://www.opengis.net/gml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" service="WFS" version="1.0.0" outputFormat="GML2" xsi:schemaLocation="http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd" sourceName="base" maxFeatures="5"><wfs:Query typeName="gc_aqi_ranking"><ogc:Filter><ogc:And><ogc:Or><ogc:PropertyIsEqualTo><ogc:PropertyName>area</ogc:PropertyName><ogc:Literal>北京</ogc:Literal></ogc:PropertyIsEqualTo><ogc:PropertyIsEqualTo><ogc:PropertyName>area</ogc:PropertyName><ogc:Literal>石家庄</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Or><ogc:Or><ogc:PropertyIsLessThan><ogc:PropertyName>time_point</ogc:PropertyName><ogc:Literal>2015-12-04 11:00:00</ogc:Literal></ogc:PropertyIsLessThan></ogc:Or></ogc:And></ogc:Filter><OrderBy><Property Name="time_point" Order="Desc"/></OrderBy></wfs:Query></wfs:GetFeature>';

    var xml = '<?xml version="1.0" encoding="UTF-8"?><wfs:GetFeature xmlns:wfs="http://www.opengis.net/wfs" xmlns:ogc="http://www.opengis.net/ogc" xmlns:gml="http://www.opengis.net/gml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" service="WFS" version="1.0.0" outputFormat="GML2" xsi:schemaLocation="http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd" sourceName="base" maxFeatures="100"><wfs:Query typeName="gc_aqi"><wfs:PropertyName>aqi</wfs:PropertyName><wfs:PropertyName>time_point</wfs:PropertyName><wfs:PropertyName>station_code</wfs:PropertyName><ogc:Filter><ogc:And><ogc:PropertyIsEqualTo><ogc:PropertyName>station_code</ogc:PropertyName><ogc:Literal>1011A</ogc:Literal></ogc:PropertyIsEqualTo><ogc:And><ogc:PropertyIsGreaterThanOrEqualTo><ogc:PropertyName>time_point</ogc:PropertyName><ogc:Literal>2015-11-01 11:00:00</ogc:Literal></ogc:PropertyIsGreaterThanOrEqualTo><ogc:PropertyIsLessThanOrEqualTo><ogc:PropertyName>time_point</ogc:PropertyName><ogc:Literal>2015-11-03 11:00:00</ogc:Literal></ogc:PropertyIsLessThanOrEqualTo></ogc:And></ogc:And></ogc:Filter><ogc:OrderBy order="desc"><wfs:PropertyName>base:time_point</wfs:PropertyName></ogc:OrderBy></wfs:Query></wfs:GetFeature>';

    var xml ='<?xml version="1.0" encoding="UTF-8"?><wfs:GetFeature xmlns:wfs="http://www.opengis.net/wfs" xmlns:ogc="http://www.opengis.net/ogc" xmlns:gml="http://www.opengis.net/gml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" service="WFS" version="1.0.0" outputFormat="GML2" xsi:schemaLocation="http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd" sourceName="base" offset="0"><wfs:Query typeName="gc_aqi_ranking"><wfs:PropertyName>aqi</wfs:PropertyName><wfs:PropertyName>area</wfs:PropertyName><wfs:PropertyName>quality</wfs:PropertyName><wfs:PropertyName>x</wfs:PropertyName><wfs:PropertyName>y</wfs:PropertyName><ogc:Filter><ogc:PropertyIsEqualTo><ogc:PropertyName>time_point</ogc:PropertyName><ogc:Literal>2015-12-10 12:00:00</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter><ogc:OrderBy order="asc"><wfs:PropertyName>aqi</wfs:PropertyName></ogc:OrderBy></wfs:Query></wfs:GetFeature>';

    var xml = '<?xml version="1.0" encoding="UTF-8"?><wfs:GetFeature xmlns:wfs="http://www.opengis.net/wfs" xmlns:ogc="http://www.opengis.net/ogc" xmlns:gml="http://www.opengis.net/gml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" service="WFS" version="1.0.0" outputFormat="GML2" xsi:schemaLocation="http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd" sourceName="base"><wfs:Query typeName="china_city_region"><wfs:PropertyName>gid</wfs:PropertyName><wfs:PropertyName>name</wfs:PropertyName><wfs:PropertyName>aname</wfs:PropertyName></wfs:Query></wfs:GetFeature>'

   var xml = '<?xml version="1.0" encoding="UTF-8"?><wfs:GetFeature xmlns:wfs="http://www.opengis.net/wfs" xmlns:ogc="http://www.opengis.net/ogc" xmlns:gml="http://www.opengis.net/gml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" service="WFS" version="1.0.0" outputFormat="GML2" xsi:schemaLocation="http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd" sourceName="base" maxFeatures="80" offset="0"><wfs:Query typeName="prov_bount_4m"><wfs:PropertyName>shape</wfs:PropertyName><wfs:PropertyName>name</wfs:PropertyName></wfs:Query></wfs:GetFeature>';


    // var xml = '<wfs:GetFeature service="WFS" version="1.1.0" mapName="new2" xmlns:world="www.world.ac.cn" xmlns:wfs="http://www.opengis.net/wfs" xmlns:gml="http://www.opengis.net/gml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd"><wfs:Query typeName="china_china"><wfs:PropertyName>name_engli</wfs:PropertyName><wfs:PropertyName>eumember</wfs:PropertyName>   <Filter>        <Within>            <PropertyName>shape</PropertyName> <gml:Point><gml:coordinates xmlns:gml="http://www.opengis.net/gml" decimal="." cs="," ts=" ">99.54716901562499,35.4731975625</gml:coordinates></gml:Point>       </Within>   </Filter></wfs:Query></wfs:GetFeature>';

    var xml = '<?xml version="1.0" encoding="UTF-8"?><wfs:GetFeature xmlns:wfs="http://www.opengis.net/wfs" xmlns:ogc="http://www.opengis.net/ogc" xmlns:gml="http://www.opengis.net/gml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" service="WFS" version="1.0.0" outputFormat="GML2" xsi:schemaLocation="http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd" sourceName="base"><wfs:Query typeName="prov_bount_4m"/></wfs:GetFeature>';
      var url = "/ows/user1/mgr?";

      $.ajax({
        type  :"post",
        url   : url,
        // data : encodeURI(params),
        contentType: "text/xml",
        data  : xml,
        dataType: "text",
        async : false,
        beforeSend: function(XMLHttpRequest){
        },
        success : function(xml, textStatus){
          // alert(xml);
          console.log(xml);
        },
        complete: function(XMLHttpRequest, textStatus){
        },
        error : function(){
        }
      });
    }
  </script>
</head>
<body>
  <input type='button' value='Submit' onclick="onClick();"></body>
</html>