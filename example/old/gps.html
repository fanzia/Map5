<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="../css/bootstrap-3.2.0-dist/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="../css/Map5.css"/>

<script type="text/javascript" src="../lib/jquery-1.11.1.js"></script>
<script type="text/javascript" src="bootstrap.min.js"></script>
<script type="text/javascript" src="../lib/GeoBeans.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/BaseTypes/Class.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/BaseTypes/Envelope.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/BaseTypes/Color.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/BaseTypes/ColorRangeMap.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/User.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Map.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/MapManager.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/DBS/DBSManager.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/File/FileManager.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/TileDB/TileDBManager.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/RasterDB/RasterDBManager.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/GPS/GPSManager.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Poi/PoiManager.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Subscribe/SubManager.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Service/Service.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Service/ServiceManager.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/JobManager.js"></script>

<script type="text/javascript" src="../lib/GeoBeans/Geometry.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Geometry/GeometryCollection.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Geometry/Point.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Geometry/LineString.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Geometry/Line/LinearRing.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Geometry/Polygon.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Geometry/MultiPoint.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Geometry/MultiLineString.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Geometry/MultiPolygon.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Geometry/Circle.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Geometry/GML.js"></script>

<script type="text/javascript" src="../lib/GeoBeans/Label.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Label/PointLabel.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Field.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Feature.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/FeatureType.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Workspace.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/WFS/WFSWorkspace.js"></script>


<script type="text/javascript" src="../lib/GeoBeans/Transformation.js"></script>

<script type="text/javascript" src="../lib/GeoBeans/Filter.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Filter/FilterReader.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Filter/FilterWriter.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Filter/LogicFilter.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Filter/LogicFilter/BinaryLogicFilter.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Filter/ComparisionFilter.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Filter/ComparisionFilter/BinaryComparisionFilter.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Filter/IDFilter.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Filter/UnaryLogicFilter.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Filter/SpatialFilter.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Filter/SpatialFilter/BBoxFilter.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Filter/Expression.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Filter/PropertyName.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Filter/Literal.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/MapWorkspace.js"></script>

<script type="text/javascript" src="../lib/GeoBeans/Control.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Control/TrackControl.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Control/DragMapControl.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Control/SrollMapControl.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Control/MapNavControl.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Control/ZoomControl.js"></script>

<script type="text/javascript" src="../lib/GeoBeans/Renderer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Style/StyleManager.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Style.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Style/ColorMap.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Style/StyleReader.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Style/StyleWriter.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Style/Rule.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Style/FeatureStyle.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Symbolizer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Style/PointSymbolizer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Style/LineSymbolizer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Style/PolygonSymbolizer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Style/TextSymbolizer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Style/Font.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Style/Stroke.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Style/Fill.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Events.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/InfoWindow.js"></script>

<script type="text/javascript" src="../lib/GeoBeans/Layer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Layer/Tile.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Layer/TileCache.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Layer/TileLayer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Layer/TileLayer/QSLayer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Layer/FeatureLayer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Layer/WFSLayer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Layer/DBLayer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Layer/GroupLayer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Layer/FeatureDBLayer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Layer/OverlayLayer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Layer/QueryLayer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Layer/TileLayer/WMTSLayer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Layer/PanoramaLayer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Layer/ImageLayer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Layer/ChartLayer.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Layer/chart/SymbolChartLayer.js"></script>

<script type="text/javascript" src="../lib/GeoBeans/Overlay.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Overlay/Marker.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Overlay/Polyline.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Overlay/Polygon.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/Overlay/Circle.js"></script>

<script type="text/javascript" src="../lib/GeoBeans/File/FileManager.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/File/File.js"></script>
<script type="text/javascript" src="../lib/GeoBeans/File/Folder.js"></script>


<script type="text/javascript" src="../lib/GeoBeans/GPS/SpatialReference.js"></script>

<script type="text/javascript">


var url = "/ows/user1/mgr";
var gpsMgr = null;
function init(){
	gpsMgr = new GeoBeans.GPSManager(url);

}

function getCapabilities(){
	gpsMgr.getCapabilities(getCapabilities_callback);
}

function getCapabilities_callback(list){

}


function clusterKmean(){
	var inputSourceName = $(".kmean-div .input-source-name").val();
	var inputTypeName = $(".kmean-div .input-type-name").val();
	var outputSourceName = $(".kmean-div .output-source-name").val();
	var outputTypeName = $(".kmean-div .output-type-name").val();
	var clusters = $(".kmean-div .clusters").val();
	gpsMgr.clusterKmean(inputSourceName,inputTypeName,outputSourceName,outputTypeName,clusters,clusterKmean_callback);
}

function clusterKmean_callback(result){
	$("#clusterKmean_div").html(result);
}

function getSpatialReference(){
	var count = $(".srid-count").val();
	var offset = $(".srid-offset").val();
	gpsMgr.getSpatialReferenceList(count,offset,getSpatialReference_callback);
}

function getSpatialReference_callback(list){
	var srid = null;
	var html = "<table class='table'>"
		+ "<thead>"
		+ "<tr>"
		+ "<th>srid</th>"
		+ "<th>srtext</th>"
		+ "<th>proj4</th>"
		+ "</tr>"
		+ "</thead>"
		+ "<tbody>";
	for(var i = 0; i < list.length; ++i){
		srid = list[i];
		html += "<tr>"
		+ "<td>" + srid.srid + "</td>"
		+ "<td>" + srid.srtext + "</td>"
		+ "<td>" + srid.proj + "</td>"
		+ "</tr>";
	}

	html += "</tbody></table>";
	$("#getSpatialReference_div").html(html);
}


function getSpatialReferenceBySrid(){
	var name = $(".srid-name").val();
	gpsMgr.getSpatialReferenceBySrid(name,getSpatialReferenceBySrid_callback);
}

function getSpatialReferenceBySrid_callback(srid){
	var html = "<table class='table'>"
		+ "<thead>"
		+ "<tr>"
		+ "<th>srid</th>"
		+ "<th>srtext</th>"
		+ "<th>proj4</th>"
		+ "</tr>"
		+ "</thead>"
		+ "<tbody>";	
	html += "<tr>"
		+ "<td>" + srid.srid + "</td>"
		+ "<td>" + srid.srtext + "</td>"
		+ "<td>" + srid.proj + "</td>"
		+ "</tr>";
	html += "</tbody></table>";
	$("#getSpatialReferenceBySrid_div").html(html);
}
</script>
</head>
<body onload="init()">
<div class="container">
	<div class="page-header">
		<h1>getCapabilities</h1>
	</div>
	<div class="row">
		<div>
			<button class="btn btn-default" onclick="getCapabilities()">getCapabilities</button>
		</div>
		<div id="getDataSources_div"></div>
	</div>
</div>

<div class="container kmean-div">
	<div class="page-header">
		<h1>clusterKmean</h1>
	</div>
	<form class="form-horizontal">
		<div class="form-group">
			<label class="control-label col-md-2">
				inputSourceName
			</label>
			<div class="col-md-3">
				<input type="text" class="form-control input-source-name" value="test">
			</div>
		</div>
		<div class="form-group">
			<label class="control-label col-md-2">
				inputTypeName
			</label>
			<div class="col-md-3">
				<input type="text" class="form-control input-type-name" value="cities">
			</div>
		</div>
		<div class="form-group">
			<label class="control-label col-md-2">
				outputSourceName
			</label>
			<div class="col-md-3">
				<input type="text" class="form-control output-source-name" value="test">
			</div>
		</div>
		<div class="form-group">
			<label class="control-label col-md-2">
				outputTypeName
			</label>
			<div class="col-md-3">
				<input type="text" class="form-control output-type-name" value="cities-1">
			</div>
		</div>
		<div class="form-group">
			<label class="control-label col-md-2">
				clusters
			</label>
			<div class="col-md-3">
				<input type="text" class="form-control clusters" value="10">
			</div>
		</div>
	</form>
	<button class="btn btn-default" onclick="clusterKmean()">clusterKmean</button>
	<div id="clusterKmean_div"></div>
</div>


<div class="container kmean-div">
	<div class="page-header">
		<h1>SpatialReference</h1>
	</div>
	<form class="form-horizontal">
		<div class="form-group">
			<label class="control-label col-md-2">
				count
			</label>
			<div class="col-md-3">
				<input type="text" class="form-control srid-count" value="1">
			</div>
		</div>
		<div class="form-group">
			<label class="control-label col-md-2">
				offset
			</label>
			<div class="col-md-3">
				<input type="text" class="form-control srid-offset" value="0">
			</div>
		</div>

	</form>
	<button class="btn btn-default" onclick="getSpatialReference()">getSpatialReference</button>
	<div id="getSpatialReference_div"></div>

	<form class="form-horizontal">
		<div class="form-group">
			<label class="control-label col-md-2">
				count
			</label>
			<div class="col-md-3">
				<input type="text" class="form-control srid-name" value="4326">
			</div>
		</div>

	</form>
	<button class="btn btn-default" onclick="getSpatialReferenceBySrid()">getSpatialReferenceBySrid</button>
	<div id="getSpatialReferenceBySrid_div"></div>
</div>

</body>