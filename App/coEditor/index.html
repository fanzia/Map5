<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script type="text/javascript" src="js/3rd/jquery-1.11.1.js"></script>
<script type="text/javascript" src="../../lib/Map5.min.js"></script>
<script type="text/javascript" src="../../lib/bootstrap.min.js"></script>

<script type="text/javascript" src="js/3rd/colpick.js"></script>
<script type="text/javascript" src="js/3rd/bootstrap-slider.js"></script>
<script type="text/javascript" src="js/CoEditor.js"></script>
<script type="text/javascript" src="js/Class.js"></script>
<script type="text/javascript" src="js/user.js"></script>
<script type="text/javascript" src="js/initMap.js"></script>
<script type="text/javascript" src="js/pointType.js"></script>
<script type="text/javascript" src="js/lineType.js"></script>
<script type="text/javascript" src="js/polygonType.js"></script>
<script type="text/javascript" src="js/layers.js"></script>
<script type="text/javascript" src="js/drawLayer.js"></script>
<script type="text/javascript" src="js/panel.js"></script>
<script type="text/javascript" src="js/style.js"></script>
<script type="text/javascript" src="js/MapsPanel.js"></script>
<script type="text/javascript" src="js/MapPanel.js"></script>


<script type="text/javascript" src="../../src/GeoBeans/Manager/Auth/AuthManager.js"></script>
<script type="text/javascript" src="../../src/GeoBeans/Manager/User.js"></script>
<script type="text/javascript" src="../../src/GeoBeans/Manager/MapManager.js"></script>
<script type="text/javascript" src="../../src/GeoBeans/Layer/GroupLayer.js"></script>
<script type="text/javascript" src="../../src/GeoBeans/Layer/DBLayer.js"></script>
<script type="text/javascript" src="../../src/GeoBeans/Layer/FeatureDBLayer.js"></script>
<script type="text/javascript" src="../../src/GeoBeans/Layer/RasterDBLayer.js"></script>


<link type="text/css" rel="stylesheet" href="../../lib/css/Map5.min.css">
<link type="text/css" rel="stylesheet" href="css/bootstrap/css/bootstrap.min.css"/>
<link type="text/css" rel="stylesheet" href="css/bootstrap-slider.css"/>
<link type="text/css" rel="stylesheet" href="css/main.css"/>
<link type="text/css" rel="stylesheet" href="css/colpick.css"/>

<script type="text/javascript">
	var mapObj = null;
	var drawer = null;

	// wfs地址
	var url = "/ows/radi/mgr?";

	// wfs数据库
	var db = "gisdb";

	var layerCur = null;
	// 当前编辑的要素
	var featureCur = null;

	// 新增的要素
	var featureNew = null;

	// 当前的绘制几何图形
	var geometry = null;

	// 用户名称
	var userName = "bh-test";
	// 用户
	var user = null;

	// 每页显示的个数
	var listCount = 20;


	// 是否仅获取当前用户的数据
	var userOnly = false;


	// 列表要素
	var featuresList = null;

	// 当前页码
	var currentPage = 1;

	// 所有页码
	var pageCount = null;

	
	

	// 管理员
	var authServer = "/ows/admin/mgr";
	var authManager = new GeoBeans.AuthManager(authServer);
	function init(){
		CoEditor.mapPanel = new CoEditor.MapPanel("main_panel");
		CoEditor.mapsPanel = new CoEditor.MapsPanel("maps_panel");
		
		addAccountEvent();
	 	// loadMap();
	 	// addDrawInteraction();
	 	// loadLayersList();
	 	addPanelEvent();
	 	// addMapEvent();

	}


</script>
<title>标绘系统</title>
<body onload="init()">
	<!-- 标绘面板 -->
	<div class="tab-panel" id="content_panel">
		<div id="header_panel">
			<div id="logo_panel"></div>
			<div id="title_panel" class="title_font">标绘系统</div>
			<div id="user_title">
				用户：<span id="user_title_name"></span>
				<a href="javascript:void(0)" id="user_logout">退出</a>
			</div>
		</div>
		<!-- 标绘面板 -->
		<div id="main_panel" class="content-panel">
			<div id="left_panel">
				<!-- 标注列表 -->
				<div class="left-tab" id="overlay-tab">
					<div class="left-tab-title">
						标绘列表
					</div>
					<div class="search-div row">
						<!-- <div class="input-group">
						  	<input type="text" class="form-control search-input">
						  	<span class="input-group-btn">
						  		<button class="btn btn-default search-btn" type="button">搜索</button>
							</span>
						</div> -->
						<div class="col-md-10">
							<div class="input-group">
							  	<input type="text" class="form-control search-input">
							  	<span class="input-group-btn">
							  		<button class="btn btn-default search-btn" type="button"  data-toggle="tooltip" data-placement="top" title="搜索">搜索</button>
								</span>
							</div>
						</div>
						<div class="col-md-2">
							<button class="btn btn-default list-btn" type="button"  data-toggle="tooltip" data-placement="top" title="返回列表">&nbsp;</button>
						</div>
					</div>
					<!-- <div class="overlay-list-div">
					</div> -->
				</div>
				<!-- 图层列表 -->
				<div class="left-tab active" id="layers_tab">
					<div class="left-tab-title">
						标注图层
					</div>
					<div class="list-type-div">
					</div>
				</div>		
				<!-- 图层数据列表 -->
				<div class="left-tab" id="layer_tab">
					<div class="left-tab-title">
						<span class="left-title-icon back-to-layers" data-toggle="tooltip" data-placement="top" title="返回图层列表">◄</span>
						<span class="layer-name"></span>
						<span class="right-title-btn draw-overlay pull-right" data-toggle="tooltip" data-placement="top" title="采集要素">采集</span>
						
					</div>
					<div class="left-tab-title" style="border-width: 1px">
						<span>列表</span>
						<div class="btn-group btn-group-sm pull-right" role="group">
							<button type="button" class="btn btn-default" id="show_all" disabled="disabled" data-toggle="tooltip" data-placement="top" title="所有的">所有</button>
							<button type="button" class="btn btn-default" id="show_user" data-toggle="tooltip" data-placement="top" title="用户私有的">私有</button>
						</div>
					</div>
					<div class="overlay-list-div">
					</div>
					<div class="page-div">
						<span class="current-page">1 / 1 页</span>
						<ul class="pagination"> 
							<li class="first-page">首页</li>
							<li class="pre-page">上一页</li>
							<li class="next-page">下一页</li>
							<li class="last-page">末页</li>
						</ul>
					</div>
				</div>						
				<!-- 信息编辑 -->
				<div class="left-tab" id="overlay-info-tab">
					<div class="left-tab-title">
						<span class="layer-name"></span>
						<span class="right-title-btn draw-overlay" data-toggle="tooltip" data-placement="top" title="采集要素">采集</span>
					</div>
					<div class="left-tab-title" style="border-width:1px">
						<span class="overlay-title">信息编辑</span>
						<span class="save-btn right-title-btn">保存</span>
						<span class="remove-btn right-title-btn">删除</span>
						<span class="cancel-btn right-title-btn">取消</span>
					</div>
					<div class="overlay-info-div">
					</div>
				</div>
			</div>
			<!-- 右侧地图 -->
			<div id="right_panel">
				<div id="map_div">
				</div>
				<div id="toolbar">
					<div class="btn-group btn-group-lg">
						<button type="button" class="btn btn-default normal" id="draw_marker">点</button>
						<button type="button" class="btn btn-default" id="draw_line">线</button>
						<button type="button" class="btn btn-default" id="draw_polygon">面</button>
					</div>
				</div>
			</div>
			<div class="clear">
			</div>
		</div>
		<!-- 地图列表面板 -->
		<div id="maps_panel" class="content-panel active">
			<div id="maps_panel_title">
<!-- 				<div id="home_ribbon" class="ribbon_panel">
					<div class="home_ribbon_tool">
						<button type="button" class="btn btn-default btn-success btn-new-map">新建地图</button>
						<input type="text" class="query-map-name">
						
						<div class="pull-right map-page-div">
							<div class="maps-count">
								<p class="text-primary">地图总数：<span>0</span></p>
							</div>
							<div class="maps-page">
								<ul class="pagination" style="margin:1px 0px">
								</ul>
							</div>
						</div>
					</div>	
				</div> -->
				<div class="pull-right map-page-div">
					<div class="maps-count">
						<p class="text-primary">地图总数：<span>0</span></p>
					</div>
					<div class="maps-page">
						<ul class="pagination" style="margin:1px 0px">
						</ul>
					</div>
				</div>
			</div>
			<div id="maps_main_panel">
				<div id="maps_left_panel">
					<ul id="maps_list_ul">
					</ul>
				</div>
				<div id="maps_right_panel">
					<div class="page-heading">
						<span class="glyphicon glyphicon-info-sign"></span>
						<span style="font-size:14px">基本信息</span>
					</div>
					<div class="map-info-row">
						<span class="map-info-item">名称：</span>
						<span class="map-info-name"></span>
					</div>
					<div class="map-info-row">
						<span class="map-info-item">空间参考：</span>
						<span class="map-info-srid"></span>
					</div>
					<div class="map-info-row">
						<span class="map-info-item">范围：</span>
						<span class="map-info-extent"></span>
					</div>
					<div class="page-heading">
						<span class="glyphicon glyphicon-info-sign"></span>
						<span style="font-size:14px">图层</span>
					</div>
					<div class="map-info-layers">
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- 用户面板 -->
	<div class="tab-panel active" id="user_panel">
		<div class="user-panel-title">
		</div>
		<div class="container">
			<div class="row">
				<div class="col-md-7">
				</div>
				<div class="col-md-5">
					<div class="user-tab-panel active" id="user_login_panel">
						<div class="user-tab-panel-title">用户登录</div>
						<form>
							<input class="login-form-input" type="text" name="username" placeholder="用户名">
							<span class="user-tab-info">请输入用户名</span>
							<input class="login-form-input" type="password" name="password" placeholder="密码">
							<span class="user-tab-info">请输入密码</span>
							<div class="form-group">
								<div class="col-md-6">
									<a href="javascript:void(0)" class="login-btn"></a>
								</div>
								<div class="col-md-6">
									<a href="javascript:void(0)" class="register-btn"></a>
								</div>
							</div>
						</form>
					</div>
					<div class="user-tab-panel" id="user_register_panel">
						<div class="user-tab-panel-title">用户注册</div>
						<form>
							<input class="register-form-input" type="text" name="username" placeholder="用户名">
							<span class="user-tab-info">请输入用户名</span>
							<input class="register-form-input" type="password" name="password" placeholder="密码">
							<span class="user-tab-info">请输入密码</span>
							<input class="register-form-input" type="password" name="repassword" placeholder="再次输入密码">
							<span class="user-tab-info">请再次输入密码</span>
							<div class="form-group">
								<div class="col-md-6 col-md-offset-3">
									<a href="javascript:void(0)" class="register-btn"></a>
								</div>
								<div class="col-md-2">
									<a href="javascript:void(0)" class="return-login">返回</a>
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>

</body>
